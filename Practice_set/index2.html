<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <div class="text"></div>
    <script>
      let a;
      timing = () => {
        return new Promise((res, rej) => {
          timeout = Math.random() * 7;
          setTimeout(() => {
            res();
          }, timeout * 1000);
        });
      };
      let add = async (item) => {
        let text = document.querySelector(".text");
        let p = document.createElement("p");
        p.innerHTML = item;
        text.appendChild(p);
        a = setInterval(() => {
          let text1 = document.querySelector(".text p:last-child");
          if (text1.innerHTML.endsWith("...")) {
            text1.innerHTML = text1.innerHTML.slice(
              0,
              text1.innerHTML.length - 3
            );
          } else {
            text1.innerHTML = text1.innerHTML + `.`;
          }
        }, 200);
        await timing();
      };
      let arr = ["hardware", "software", "data", "procedure", "people"];
      let main = async () => {
        for (const item of arr) {
          await add(item);
          clearInterval(a);
        }
      };
      main();
    </script>
  </body>
</html>
