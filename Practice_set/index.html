<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        p{
            user-select: none;
        }
    </style>
</head>

<body>
    <div class="text">
    </div>
    <script>
        // const randomDelay = () => {
        //     return new Promise((resolve, reject) => {
        //         timeout = 1 + 6 * Math.random();
        //         setTimeout(() => {
        //             resolve()
        //         }, timeout * 1000);
        //     })
        // }
        // let add = async (item) => {
        //     await randomDelay();
        //     let a = document.createElement('p')
        //     a.innerHTML = item;
        //     let b = document.querySelector('.text')
        //     b.appendChild(a);
       
        let add = async(item)=>{
            await randomDelay()
           let a = document.querySelector('.text')
           let b = document.createElement('p');
           b.innerHTML = `>> ${item}`;
           a.appendChild(b)
        }
        const randomDelay = ()=>{
            return new Promise((resolve,reject)=>{
                timeout = 1+6*Math.random();
                setTimeout(() => {
                    resolve()
                }, timeout* 1000);
            })
        }
        let main = async()=>{
            let t = setInterval(()=>{
                let x  = document.querySelector('.text p:last-child');
                if(x.innerHTML.endsWith(`...`)){
                    x.innerHTML = x.innerHTML.slice(0,x.innerHTML.length - 3)
                }else{
                    x.innerHTML = x.innerHTML + `.`
                }
            },100)

            let arr = ["Getting data",
            "Processing data",
            "Creaking passward",
            "Creating backups",
            "Completing",
            "Done"]
            for (const item of arr) {
                await add(item)
            }
            clearInterval(t)
        }
        main()


        setInterval(() => {
            document.querySelector('.text').innerHTML = ``;
            main()
        }, 35000);
    </script>
</body>

</html>